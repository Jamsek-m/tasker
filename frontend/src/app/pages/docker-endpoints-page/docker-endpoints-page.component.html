<div class="page-wrapper">
    <div class="endpoints">
        <h1>Docker Endpoints</h1>

        <div>
            <form (submit)="addEndpoint()">
                <div class="new-item">
                    <input name="new-key" [(ngModel)]="newEndpoint.name" class="form-control" placeholder="Name"/>
                    <input name="new-value" [(ngModel)]="newEndpoint.url" class="form-control" placeholder="Url"/>
                    <button type="submit" class="btn btn-outline-primary">Submit</button>
                </div>
            </form>
        </div>

        <div class="forma">
            <div *ngFor="let endpoint of endpoints; let i = index" class="forma-item">
                <input name="key-{{i}}" [(ngModel)]="endpoint.entity.name" (ngModelChange)="endpoint.edited = true"
                    [ngClass]="{'edited': endpoint.edited}" disabled="disabled" class="form-control"/>

                <input name="value-{{i}}"
                    [(ngModel)]="endpoint.entity.url"
                    (ngModelChange)="endpoint.edited = true"
                    [ngClass]="{'edited': endpoint.edited}" class="form-control"
                />

                <span (click)="updateEndpoint(endpoint)" *ngIf="endpoint.edited" class="checkmark">
                    <fa-icon [icon]="['fas', 'check']"></fa-icon>
                </span>
                <span class="cross" (click)="openDeleteDialog(endpoint.entity)">
                    <fa-icon [icon]="['fas', 'times']"></fa-icon>
                </span>
            </div>
            <button type="button" (click)="resetEndpoints()" class="btn btn-secondary">Reset</button>
        </div>
    </div>

</div>
